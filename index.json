[{"content":"aepfoadifheiefu\n","permalink":"https://xerophileshark.github.io/posts/irancell/","summary":"\u003cp\u003eaepfoadifheiefu\u003c/p\u003e","title":"Irancell post"},{"content":"Introduction How to install Jenkins on windows: https://www.jenkins.io/doc/book/installing/windows/\nHugo: https://gohugo.io/getting-started/quick-start/ installed using choko\nset nginx on RPi4 to server hugo: https://gideonwolfe.com/posts/sysadmin/hugonginx/\nConversation with ChatGPT: https://chatgpt.com/share/0ca4052b-164a-4020-ab38-f74ac0907161\nDeploying a static Hugo site with NGINX: https://gideonwolfe.com/posts/sysadmin/hugonginx/\nAssuming that the development location on my windows machine is D:\\website\\hugo\\my-blog and nginx is installed on target server (RPi4), the final Jenkins pipeline script:\npipeline { agent any environment { RPI_CREDS = credentials(\u0026#39;96877582-94e3-4fc4-93ed-e84e2c8be6d6\u0026#39;) RPI_HOST = \u0026#39;10.0.0.169\u0026#39; RPI_WEBSITE_DIR = \u0026#39;/var/www/html\u0026#39; } stages { stage(\u0026#39;Build\u0026#39;) { steps { dir(\u0026#39;D:\\\\website\\\\hugo\\\\my-blog\u0026#39;) { // Build the Hugo site bat \u0026#34;hugo.exe\u0026#34; } } } stage(\u0026#39;Deploy\u0026#39;) { steps { dir(\u0026#39;D:\\\\website\\\\hugo\\\\my-blog\u0026#39;) { // Create an archive of the built site bat \u0026#34;powershell Compress-Archive -Force -Path .\\\\public\\\\* -DestinationPath site.zip\u0026#34; // bat \u0026#34;\u0026#34;\u0026#34; plink -v -ssh -pw ${RPI_CREDS_PSW} ${RPI_CREDS_USR}@${RPI_HOST} \u0026#34;cd ${RPI_WEBSITE_DIR}; echo -e ${RPI_CREDS_PSW} | sudo -S rm -R *\u0026#34; \u0026#34;\u0026#34;\u0026#34; // Copy the archive to the Raspberry Pi bat \u0026#34;\u0026#34;\u0026#34; pscp -pw ${RPI_CREDS_PSW} site.zip ${RPI_CREDS_USR}@${RPI_HOST}:${RPI_WEBSITE_DIR}/site.zip \u0026#34;\u0026#34;\u0026#34; // Connect to the RPi and extract the archive bat \u0026#34;\u0026#34;\u0026#34; plink -v -ssh -pw ${RPI_CREDS_PSW} ${RPI_CREDS_USR}@${RPI_HOST} \u0026#34;echo -e ${RPI_CREDS_PSW} | sudo -S unzip -o ${RPI_WEBSITE_DIR}/site.zip -d ${RPI_WEBSITE_DIR}; echo -e ${RPI_CREDS_PSW} | sudo -S rm ${RPI_WEBSITE_DIR}/site.zip\u0026#34; \u0026#34;\u0026#34;\u0026#34; } } } } } I build this pipeline on my local machine with built-in node. PUTTY plink and pscp commands need to be installed on the machine.\nTrigger a build \u0026hellip;\nNext step How to Setup Docker Containers As Build Agents for Jenkins: https://www.youtube.com/watch?v=ymI02j-hqpU\u0026t=26s\u0026ab_channel=CloudBeesTV\n","permalink":"https://xerophileshark.github.io/posts/my-first-post/","summary":"\u003ch2 id=\"introduction\"\u003eIntroduction\u003c/h2\u003e\n\u003cp\u003eHow to install Jenkins on windows:\n\u003ca href=\"https://www.jenkins.io/doc/book/installing/windows/\"\u003ehttps://www.jenkins.io/doc/book/installing/windows/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eHugo:\n\u003ca href=\"https://gohugo.io/getting-started/quick-start/\"\u003ehttps://gohugo.io/getting-started/quick-start/\u003c/a\u003e\ninstalled using \u003ccode\u003echoko\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eset \u003ccode\u003enginx\u003c/code\u003e on RPi4 to server \u003ccode\u003ehugo\u003c/code\u003e:\n\u003ca href=\"https://gideonwolfe.com/posts/sysadmin/hugonginx/\"\u003ehttps://gideonwolfe.com/posts/sysadmin/hugonginx/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eConversation with ChatGPT:\n\u003ca href=\"https://chatgpt.com/share/0ca4052b-164a-4020-ab38-f74ac0907161\"\u003ehttps://chatgpt.com/share/0ca4052b-164a-4020-ab38-f74ac0907161\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eDeploying a static Hugo site with NGINX:\n\u003ca href=\"https://gideonwolfe.com/posts/sysadmin/hugonginx/\"\u003ehttps://gideonwolfe.com/posts/sysadmin/hugonginx/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eAssuming that the development location on my windows machine is\n\u003ccode\u003eD:\\website\\hugo\\my-blog\u003c/code\u003e\nand \u003ccode\u003enginx\u003c/code\u003e is installed on target server (RPi4),\nthe final Jenkins pipeline script:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode class=\"language-jenkins\" data-lang=\"jenkins\"\u003epipeline {\n    agent any\n    \n    environment {\n        RPI_CREDS = credentials(\u0026#39;96877582-94e3-4fc4-93ed-e84e2c8be6d6\u0026#39;)\n        RPI_HOST = \u0026#39;10.0.0.169\u0026#39;\n        RPI_WEBSITE_DIR = \u0026#39;/var/www/html\u0026#39;\n    }\n\n    stages {\n        stage(\u0026#39;Build\u0026#39;) {\n            steps {\n                dir(\u0026#39;D:\\\\website\\\\hugo\\\\my-blog\u0026#39;) {\n                  // Build the Hugo site\n                    bat \u0026#34;hugo.exe\u0026#34;\n                }\n            }\n        }\n        stage(\u0026#39;Deploy\u0026#39;) {\n                steps {\n                    dir(\u0026#39;D:\\\\website\\\\hugo\\\\my-blog\u0026#39;) {\n                        // Create an archive of the built site\n                        bat \u0026#34;powershell Compress-Archive -Force -Path .\\\\public\\\\* -DestinationPath site.zip\u0026#34;\n                        //\n                        bat \u0026#34;\u0026#34;\u0026#34;\n                            plink -v -ssh -pw ${RPI_CREDS_PSW} ${RPI_CREDS_USR}@${RPI_HOST} \u0026#34;cd ${RPI_WEBSITE_DIR}; echo -e ${RPI_CREDS_PSW} | sudo -S rm -R *\u0026#34;\n                        \u0026#34;\u0026#34;\u0026#34;\n                        // Copy the archive to the Raspberry Pi\n                        bat \u0026#34;\u0026#34;\u0026#34;\n                            pscp -pw ${RPI_CREDS_PSW} site.zip ${RPI_CREDS_USR}@${RPI_HOST}:${RPI_WEBSITE_DIR}/site.zip\n                        \u0026#34;\u0026#34;\u0026#34;\n                        // Connect to the RPi and extract the archive\n                        bat \u0026#34;\u0026#34;\u0026#34;\n                            plink -v -ssh -pw ${RPI_CREDS_PSW} ${RPI_CREDS_USR}@${RPI_HOST} \u0026#34;echo -e ${RPI_CREDS_PSW} | sudo -S unzip -o ${RPI_WEBSITE_DIR}/site.zip -d ${RPI_WEBSITE_DIR}; echo -e ${RPI_CREDS_PSW} | sudo -S rm ${RPI_WEBSITE_DIR}/site.zip\u0026#34;\n                        \u0026#34;\u0026#34;\u0026#34;\n                    }\n                }\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eI build this pipeline on my local machine with built-in node.\nPUTTY \u003ccode\u003eplink\u003c/code\u003e and \u003ccode\u003epscp\u003c/code\u003e commands need to be installed on the machine.\u003c/p\u003e","title":"Local Website on RPi4 with Hugo and Jenkins"}]